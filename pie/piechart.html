
<!DOCTYPE html>
<html>

<head>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script src="http://cdn.oesmith.co.uk/morris-0.4.1.min.js"></script>
    <meta charset=utf-8 />
    <title>Morris.js Donut Chart Example</title>
</head>

<body>
    <button id = "btn1">click to change data(local)</button>
    <button id = "btn2">click to change data(remote)</button>
    <div id="donut-example"></div>
</body>
    
    


<script>
    window.Morris.Donut.prototype.setData = function(data, redraw) {
        if (redraw == null) {
            redraw = true;
        }
        this.data = data;
        this.values = (function() {
            var _i, _len, _ref, _results;
            _ref = this.data;
            _results = [];
            for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                row = _ref[_i];
                _results.push(parseFloat(row.value));
            }
            return _results;
        }).call(this);
        this.dirty = true;
        if (redraw) {
            return this.redraw();
        }
    }


    var update_data = [{
        label: "Positive",
        value: 120
    }, {
        label: "Netural",
        value: 30
    }, {
        label: "Negative",
        value: 20
    }];


    var donut = Morris.Donut({
        element: 'donut-example',
        data: [{
            label: "Positive",
            value: 12
        }, {
            label: "Netural",
            value: 30
        }, {
            label: "Negative",
            value: 20
        }],
        colors: ["#009900", "#CCCCCC", "#FF3300"]
    });

    $('#btn1').on('click', function() {
        donut.setData(update_data);
    });
</script>

</html>